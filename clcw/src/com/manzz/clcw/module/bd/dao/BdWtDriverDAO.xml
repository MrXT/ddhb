<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.manzz.clcw.module.bd.dao.BdWtDriverDAO" >

  <resultMap id="BdWtDriverResultMap" type="com.manzz.clcw.domain.BdWtDriver" >
    <id column="DRIVER_ID" property="driverId" jdbcType="VARCHAR" />
    <result column="FULLNAME" property="fullname" jdbcType="VARCHAR" />
    <result column="AGE" property="age" jdbcType="INTEGER" />
    <result column="DRIVINGYEARS" property="drivingyears" jdbcType="INTEGER" />
    <result column="PHONE" property="phone" jdbcType="VARCHAR" />
    <result column="DRIVINGLICENSE" property="drivinglicense" jdbcType="VARCHAR" />
    <result column="CERTIFICATENUMBER" property="certificatenumber" jdbcType="VARCHAR" />
    <result column="COMPANY" property="company" jdbcType="VARCHAR" />
    <result column="CREATEDATE" property="createdate" jdbcType="DATE" />
    <result column="FREEZE" property="freeze" jdbcType="CHAR" />
    <result column="OPER_ID" property="operId" jdbcType="VARCHAR" />
    <result column="OPER_TIME" property="operTime" jdbcType="TIMESTAMP" />
    <result column="IDCARDNO" property="idcardno" jdbcType="VARCHAR" />
    <result column="DRIVINGTYPE" property="drivingtype" jdbcType="VARCHAR" />
    <result column="SEX" property="sex" jdbcType="CHAR" />
  </resultMap>

  <sql id="BdWtDriver_Column_List" >
    DRIVER_ID, FULLNAME, AGE, DRIVINGYEARS, PHONE, DRIVINGLICENSE, CERTIFICATENUMBER, 
    COMPANY, CREATEDATE, FREEZE, OPER_ID, OPER_TIME, IDCARDNO, DRIVINGTYPE, SEX
  </sql>

  <select id="selectByPrimaryKey" resultMap="BdWtDriverResultMap" parameterType="java.lang.String" >
    select 
    <include refid="BdWtDriver_Column_List" />
    from wt_driver
    where DRIVER_ID = #{driverId,jdbcType=VARCHAR}
  </select>

  <delete id="deleteByPrimaryKey" parameterType="java.lang.String" >
    delete from wt_driver
    where DRIVER_ID = #{driverId,jdbcType=VARCHAR}
  </delete>

  <insert id="insert" parameterType="com.manzz.clcw.domain.BdWtDriver" >
    insert into wt_driver (DRIVER_ID, FULLNAME, AGE, DRIVINGYEARS, 
      PHONE, DRIVINGLICENSE, CERTIFICATENUMBER, 
      COMPANY, CREATEDATE, FREEZE, 
      OPER_ID, OPER_TIME, IDCARDNO, DRIVINGTYPE, 
      SEX)
    values (uuid(), #{fullname,jdbcType=VARCHAR}, #{age,jdbcType=INTEGER}, #{drivingyears,jdbcType=INTEGER}, 
      #{phone,jdbcType=VARCHAR}, #{drivinglicense,jdbcType=VARCHAR}, #{certificatenumber,jdbcType=VARCHAR}, 
      #{company,jdbcType=VARCHAR}, now(), #{freeze,jdbcType=CHAR}, 
      #{operId,jdbcType=VARCHAR}, now(), #{idcardno,jdbcType=VARCHAR}, #{drivingtype,jdbcType=VARCHAR}, 
      #{sex,jdbcType=CHAR})
  </insert>

  <update id="updateByPrimaryKeySelective" parameterType="com.manzz.clcw.domain.BdWtDriver" >
    update wt_driver
    <set >
      <if test="fullname != null" >
        FULLNAME = #{fullname,jdbcType=VARCHAR},
      </if>
      <if test="age != null" >
        AGE = #{age,jdbcType=INTEGER},
      </if>
      <if test="drivingyears != null" >
        DRIVINGYEARS = #{drivingyears,jdbcType=INTEGER},
      </if>
      <if test="phone != null" >
        PHONE = #{phone,jdbcType=VARCHAR},
      </if>
      <if test="drivinglicense != null" >
        DRIVINGLICENSE = #{drivinglicense,jdbcType=VARCHAR},
      </if>
      <if test="certificatenumber != null" >
        CERTIFICATENUMBER = #{certificatenumber,jdbcType=VARCHAR},
      </if>
      <if test="company != null" >
        COMPANY = #{company,jdbcType=VARCHAR},
      </if>
      <if test="createdate != null" >
        CREATEDATE = #{createdate,jdbcType=DATE},
      </if>
      <if test="freeze != null" >
        FREEZE = #{freeze,jdbcType=CHAR},
      </if>
      <if test="operId != null" >
        OPER_ID = #{operId,jdbcType=VARCHAR},
      </if>
      <if test="operTime != null" >
        OPER_TIME = now(),
      </if>
      <if test="idcardno != null" >
        IDCARDNO = #{idcardno,jdbcType=VARCHAR},
      </if>
      <if test="drivingtype != null" >
        DRIVINGTYPE = #{drivingtype,jdbcType=VARCHAR},
      </if>
      <if test="sex != null" >
        SEX = #{sex,jdbcType=CHAR},
      </if>
    </set>
    where DRIVER_ID = #{driverId,jdbcType=VARCHAR}
  </update>

  <update id="updateByPrimaryKey" parameterType="com.manzz.clcw.domain.BdWtDriver" >
    update wt_driver
    set FULLNAME = #{fullname,jdbcType=VARCHAR},
      AGE = #{age,jdbcType=INTEGER},
      DRIVINGYEARS = #{drivingyears,jdbcType=INTEGER},
      PHONE = #{phone,jdbcType=VARCHAR},
      DRIVINGLICENSE = #{drivinglicense,jdbcType=VARCHAR},
      CERTIFICATENUMBER = #{certificatenumber,jdbcType=VARCHAR},
      COMPANY = #{company,jdbcType=VARCHAR},
      CREATEDATE = #{createdate,jdbcType=DATE},
      FREEZE = #{freeze,jdbcType=CHAR},
      OPER_ID = #{operId,jdbcType=VARCHAR},
      OPER_TIME = now(),
      IDCARDNO = #{idcardno,jdbcType=VARCHAR},
      DRIVINGTYPE = #{drivingtype,jdbcType=VARCHAR},
      SEX = #{sex,jdbcType=CHAR}
    where DRIVER_ID = #{driverId,jdbcType=VARCHAR}
  </update>

  <sql id="Where_Condition" >
    <where >
      <if test="fullname != null and fullname != ''" >
        FULLNAME = #{fullname,jdbcType=VARCHAR}
      </if>
      <if test="age != null" >
        AND AGE = #{age,jdbcType=INTEGER}
      </if>
      <if test="drivingyears != null" >
        AND DRIVINGYEARS = #{drivingyears,jdbcType=INTEGER}
      </if>
      <if test="phone != null and phone != ''" >
        AND PHONE = #{phone,jdbcType=VARCHAR}
      </if>
      <if test="drivinglicense != null and drivinglicense != ''" >
        AND DRIVINGLICENSE = #{drivinglicense,jdbcType=VARCHAR}
      </if>
      <if test="certificatenumber != null and certificatenumber != ''" >
        AND CERTIFICATENUMBER = #{certificatenumber,jdbcType=VARCHAR}
      </if>
      <if test="company != null and company != ''" >
        AND COMPANY = #{company,jdbcType=VARCHAR}
      </if>
      <if test="createdate != null" >
        AND CREATEDATE = #{createdate,jdbcType=DATE}
      </if>
      <if test="freeze != null and freeze != ''" >
        AND FREEZE = #{freeze,jdbcType=CHAR}
      </if>
      <if test="idcardno != null and idcardno != ''" >
        AND IDCARDNO = #{idcardno,jdbcType=VARCHAR}
      </if>
      <if test="drivingtype != null and drivingtype != ''" >
        AND DRIVINGTYPE = #{drivingtype,jdbcType=VARCHAR}
      </if>
      <if test="sex != null and sex != ''" >
        AND SEX = #{sex,jdbcType=CHAR}
      </if>
    </where>
  </sql>

  <sql id="Where_Fuzzy_Condition" >
    <where >
      <if test="fullname != null and fullname != ''" >
        FULLNAME = #{fullname,jdbcType=VARCHAR}
      </if>
      <if test="age != null" >
        AND AGE = #{age,jdbcType=INTEGER}
      </if>
      <if test="drivingyears != null" >
        AND DRIVINGYEARS = #{drivingyears,jdbcType=INTEGER}
      </if>
      <if test="phone != null and phone != ''" >
        AND PHONE = #{phone,jdbcType=VARCHAR}
      </if>
      <if test="drivinglicense != null and drivinglicense != ''" >
        AND DRIVINGLICENSE = #{drivinglicense,jdbcType=VARCHAR}
      </if>
      <if test="certificatenumber != null and certificatenumber != ''" >
        AND CERTIFICATENUMBER = #{certificatenumber,jdbcType=VARCHAR}
      </if>
      <if test="company != null and company != ''" >
        AND COMPANY = #{company,jdbcType=VARCHAR}
      </if>
      <if test="createdate != null" >
        AND CREATEDATE = #{createdate,jdbcType=DATE}
      </if>
      <if test="freeze != null and freeze != ''" >
        AND FREEZE = #{freeze,jdbcType=CHAR}
      </if>
      <if test="idcardno != null and idcardno != ''" >
        AND IDCARDNO = #{idcardno,jdbcType=VARCHAR}
      </if>
      <if test="drivingtype != null and drivingtype != ''" >
        AND DRIVINGTYPE = #{drivingtype,jdbcType=VARCHAR}
      </if>
      <if test="sex != null and sex != ''" >
        AND SEX = #{sex,jdbcType=CHAR}
      </if>
    </where>
  </sql>

  <select id="queryCount" parameterType="com.manzz.clcw.domain.BdWtDriver" resultType="java.lang.Integer" >
    select count(0) from wt_driver
    <if test="isFuzzyQuery == false" >
      <include refid="Where_Condition" />
    </if>
    <if test="isFuzzyQuery == true" >
      <include refid="Where_Fuzzy_Condition" />
    </if>
  </select>

  <select id="queryPagedList" parameterType="com.manzz.clcw.domain.BdWtDriver" resultMap="BdWtDriverResultMap" >
    select 
    <include refid="BdWtDriver_Column_List" />
    from wt_driver
    <if test="isFuzzyQuery == false" >
      <include refid="Where_Condition" />
    </if>
    <if test="isFuzzyQuery == true" >
      <include refid="Where_Fuzzy_Condition" />
    </if>
    <if test="sort != null" >
      ORDER BY ${sort} ${order}
    </if>
    <if test="sort == null" >
      ORDER BY OPER_TIME DESC
    </if>
  </select>
  <select id="queryDriverByPhoneOrCertificatenumber" parameterType="com.manzz.clcw.domain.BdWtDriver" resultMap="BdWtDriverResultMap" >
    select 
    <include refid="BdWtDriver_Column_List" />
    from wt_driver
    where 1=1
    <if test="phone != null and phone != ''" >
        AND PHONE = #{phone,jdbcType=VARCHAR}
     </if>
      <if test="certificatenumber != null and certificatenumber != ''" >
        OR CERTIFICATENUMBER = #{certificatenumber,jdbcType=VARCHAR}
      </if>
  </select>
</mapper>